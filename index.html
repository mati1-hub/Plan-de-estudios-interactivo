<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Malla Interactiva Psicología</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f2f5;
      padding: 20px;
    }

    h1 {
      text-align: center;
      margin-bottom: 30px;
    }

    .materia {
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px;
      border-radius: 5px;
      background-color: #fff;
      cursor: pointer;
      transition: 0.3s;
      position: relative;
    }

    .materia:hover {
      background-color: #e6f7ff;
    }

    .materia.aprobada {
      text-decoration: line-through;
      background-color: #d4edda;
    }

    .materia.bloqueada {
      background-color: #f8d7da;
      cursor: not-allowed;
    }

    .materia .tooltip {
      visibility: hidden;
      background-color: #333;
      color: #fff;
      text-align: left;
      padding: 5px;
      border-radius: 3px;
      position: absolute;
      z-index: 1;
      bottom: 120%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      white-space: nowrap;
    }

    .materia:hover .tooltip {
      visibility: visible;
      opacity: 1;
    }

    .anio {
      margin-bottom: 40px;
    }

    .cuatrimestre {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 20px;
    }

    .separado {
      margin-top: 50px;
    }

    .titulo-cuatrimestre {
      font-weight: bold;
      margin-bottom: 10px;
    }

    @media (max-width: 600px) {
      .cuatrimestre {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
  <h1>Malla Interactiva - Psicología</h1>

  <div id="malla"></div>

  <script>
    const materias = [
      { id: "aps21", nombre: "Aprender en el Siglo 21", cuatrimestre: "1-1", correlativas: [] },
      { id: "tecnomodelos", nombre: "Tecnología, Humanidades y Modelos Globales", cuatrimestre: "1-1", correlativas: [] },
      { id: "desarrolloemprendedor", nombre: "Desarrollo Emprendedor", cuatrimestre: "1-1", correlativas: [] },
      { id: "evo1", nombre: "Psicología Evolutiva 1", cuatrimestre: "1-1", correlativas: [] },
      { id: "intropsico", nombre: "Introducción a la Psicología", cuatrimestre: "1-1", correlativas: [] },
      { id: "neuro", nombre: "Neuroanatomía y Neurofisiología", cuatrimestre: "1-1", correlativas: [] },
      { id: "antropologia", nombre: "Antropología", cuatrimestre: "1-1", correlativas: [] },
      { id: "idioma1", nombre: "Idioma Extranjero 1", cuatrimestre: "extra", correlativas: [] },
      { id: "epistemologia", nombre: "Epistemología", cuatrimestre: "1-2", correlativas: [] },
      { id: "filosofia", nombre: "Introducción a la Filosofía", cuatrimestre: "1-2", correlativas: [] },
      { id: "neuropsico", nombre: "Neuropsicología", cuatrimestre: "1-2", correlativas: ["neuro"] },
      { id: "evo2", nombre: "Psicología Evolutiva 2", cuatrimestre: "1-2", correlativas: ["evo1"] },
      { id: "escuelas", nombre: "Escuelas, Sistemas y Corrientes", cuatrimestre: "1-2", correlativas: ["intropsico"] },
      { id: "idioma2", nombre: "Idioma Extranjero 2", cuatrimestre: "extra", correlativas: ["idioma1"] },
      { id: "metodologia", nombre: "Métodos y Técnicas de Investigación Social", cuatrimestre: "2-1", correlativas: ["epistemologia"] },
      { id: "solidaria", nombre: "Práctica Solidaria", cuatrimestre: "2-1", correlativas: [] },
      { id: "psicoestadistica", nombre: "Psicoestadística", cuatrimestre: "2-1", correlativas: [] },
      { id: "psiclinica", nombre: "Psicología Clínica", cuatrimestre: "2-1", correlativas: [] },
      { id: "evo3", nombre: "Psicología Evolutiva 3", cuatrimestre: "2-1", correlativas: ["evo2"] },
      { id: "teo1", nombre: "Teoría Psicológica 1", cuatrimestre: "2-1", correlativas: ["escuelas"] },
      { id: "idioma3", nombre: "Idioma Extranjero 3", cuatrimestre: "extra", correlativas: ["idioma2"] },
      { id: "actual1", nombre: "Actualización Psicológica 1", cuatrimestre: "2-2", correlativas: [] },
      { id: "social", nombre: "Psicología Social y Comunitaria", cuatrimestre: "2-2", correlativas: [] },
      { id: "tecnicas1", nombre: "Técnicas e Instrumentos de Exploración 1", cuatrimestre: "2-2", correlativas: ["psiclinica"] },
      { id: "psicopato1", nombre: "Psicopatología 1", cuatrimestre: "2-2", correlativas: ["psiclinica", "evo3", "teo1"] },
      { id: "teo2", nombre: "Teoría Psicológica 2", cuatrimestre: "2-2", correlativas: ["escuelas", "teo1"] },
      { id: "idioma4", nombre: "Idioma Extranjero 4", cuatrimestre: "extra", correlativas: ["idioma3"] }
    ];

    const malla = document.getElementById("malla");

    const anios = ["1", "2"];
    const cuatris = ["1", "2"];

    anios.forEach(anio => {
      const divAnio = document.createElement("div");
      divAnio.classList.add("anio");
      const titulo = document.createElement("h2");
      titulo.textContent = `${anio}° Año`;
      divAnio.appendChild(titulo);

      cuatris.forEach(cuatrimestre => {
        const divCuatri = document.createElement("div");
        divCuatri.classList.add("cuatrimestre");
        const tituloCuatri = document.createElement("div");
        tituloCuatri.classList.add("titulo-cuatrimestre");
        tituloCuatri.textContent = `${cuatrimestre === "1" ? "Primer" : "Segundo"} Cuatrimestre`;
        divAnio.appendChild(tituloCuatri);
        materias.filter(m => m.cuatrimestre === `${anio}-${cuatrimestre}`).forEach(m => {
          const div = document.createElement("div");
          div.classList.add("materia");
          div.id = m.id;
          div.textContent = m.nombre;

          if (m.correlativas.length > 0) {
            div.classList.add("bloqueada");
            const tooltip = document.createElement("span");
            tooltip.classList.add("tooltip");
            tooltip.textContent = `Correlativas: ${m.correlativas.map(id => materias.find(mat => mat.id === id).nombre).join(", ")}`;
            div.appendChild(tooltip);
          }

          divCuatri.appendChild(div);
        });
        divAnio.appendChild(divCuatri);
      });

      malla.appendChild(divAnio);
    });

    const extra = document.createElement("div");
    extra.classList.add("separado");
    const tituloExtra = document.createElement("h2");
    tituloExtra.textContent = "Materias Extras (Idioma + Ingreso)";
    extra.appendChild(tituloExtra);
    const contExtra = document.createElement("div");
    contExtra.classList.add("cuatrimestre");

    materias.filter(m => m.cuatrimestre === "extra").forEach(m => {
      const div = document.createElement("div");
      div.classList.add("materia");
      div.id = m.id;
      div.textContent = m.nombre;
      if (m.correlativas.length > 0) {
        div.classList.add("bloqueada");
        const tooltip = document.createElement("span");
        tooltip.classList.add("tooltip");
        tooltip.textContent = `Correlativas: ${m.correlativas.map(id => materias.find(mat => mat.id === id).nombre).join(", ")}`;
        div.appendChild(tooltip);
      }
      contExtra.appendChild(div);
    });

    extra.appendChild(contExtra);
    malla.appendChild(extra);
  </script>
</body>
</html>
